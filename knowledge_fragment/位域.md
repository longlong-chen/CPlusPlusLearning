## 位域

有些信息在存储时，并不需要占用一个完整的字节，而只需占几个或一个二进制位。例如，在存放一个开关变量时，只有0和1两种状态，用1位二进制位即可。
为了节省存储空间，并使处理简单，C语言又提供了一种数据结构，称为“位域”或“位段”。

所谓“位域”是把一个字节中的二进制位划分为几个不同的区域，并说明每个区域的位数。每个域有一个域名，允许在程序中按域名进行操作。这样就可以把几
个不同的对象用一个字节的二进制位域来表示。

典型实例：

* 用1位二进制位存放一个开关量时，只有0和1两种状态。
* 读取外部文件格式——可以读取非标准的文件格式。例如：9位的整数。

位域的定义方式：
~~~c
struct 位域结构名{
    type [member_name] : width;
};
~~~

几点说明：

* 一个位域存储在同一个字节中，如一个字节所剩空间不够存放另一位域时，则会从下一单元起存放该位域。也可以有意使某位域从下一单元开始。
* 位域的宽度不能超过它所依附的数据类型的长度，成员变量都是有类型的，这个类型限制了成员变量的最大长度，`:`后面的数字不能超过这个长度。
* 位域可以是无名位域，这时它只用来做填充或调整位置。无名的位域是不能使用的。例如：
~~~c
struct k{
    int a:1;
    int  :2;    /* 该 2 位不能使用 */
    int b:3;
    int c:2;
};
~~~

注：位域在本质上就是一种结构类型，不过其成员是按二进制分配的。

参考：

[位域](https://www.runoob.com/cprogramming/c-bit-fields.html)

[C/C++位域详解整理](https://blog.csdn.net/m0_46526726/article/details/108533556)
